| Week 2 | Lecture 4~6 |
| :----: | :---------: |

<br/>

<br/>

# 데이터베이스 설계와 ER모델

---

<br/>

### 데이터베이스 설계

- 개념적 데이터베이스 설계와 물리적 데이터베이스 설계로 구분
- 개념적 데이터베이스 설계는 실제로 데이터베이스를 어떻게 구현할 것인가와는 독립적으로 정보 사용의 모델을 개발하는 과정
- 물리적 데이터베이스 설계에서는 물리적인 저장 장치와 접근 방식을 다룸
- 개념적 데이터베이스 설계 과정에서 조작체의 엔티티, 관계, 프로세스, 무결성 제약조건 등을 나타내는 추상화 모델을 구축
- 엔티티는 서로 구분이 되면서 조직체에서 데이터베이스에 나타내려는 객체를 의미
- 관계는 두 개 이상의 엔티티들 간의 연관을 나타냄
- 프로세스는 관련된 활동을 나타냄
- 무결성 제약조건은 데이터의 정확성과 비즈니스 규칙을 의미


<br/>

### 개념적 수준의 모델

- 특정 데이터 모델과 독립적으로 응용 세계를 모델링할 수 있도록 함
- 데이터베이스 구조나 스키마를 하향식으로 개발할 수 있기 위한 틀을 제공함
- 인기 있는 개념적 수준의 모델은 엔티티-관계모델(ER모델)
- ER 모델과 같은 개념적인 데이터 모델이 사상될 수 있는 다수의 구현 데이터 모델이 존재함
- 구현 단계에서 사용되는 세 가지 데이터 모델: 관계 데이터 모델, 계층 데이터 모델, 네트워크 데이터 모델

<br/>


### 데이터베이스 설계의 개요

- 데이터베이스 설계의 개요
  - 한 조직체의 운영과 목적을 지원하기 위해 데이터베이스를 생성하는 과정
  - 목적은 모든 주요 응용과 사용자들이 요구하는 데이터, 데이터 간의 관계를 표현하는 것
  - 데이터베이스 개발은 일반적인 프로젝트 라이프 사이클 과정을 따름
  - 훌륭한 데이터베이스 설계는 시간의 흐름에 따른 데이터의 모든 측면을 나타내고 데이터 항목의 중복을 최소화하고 데이터베이스에 대한 효율적인 접근을 제공하고 데이터베이스의 무결성을 제공하고 이해하기 쉬워야 함

- 데이터 베이스 설계의 주요 단계
  - 요구사항 분석, 개념적 설계, DBMS의 선정, 논리적 설계, 스키마 정제, 물리적 설계와 튜닝 등 여러 작업들로 이루어짐
  - 일반적으로 데이터베이스 설계의 완성도를 높이기 위해서 이런 작업들을 왔다갔다할 필요가 있음

- 요구사항 수집과 분석
  - 흔히 기존의 문서를 조사하고 인터뷰나 설문 조사 등이 시행됨
  - 인터뷰는 요구사항 수집을 위해 가장 흔히 사용됨
  - 설문 조사는 자유롭게 의견을 적어내도록 하는 방식과 주어진 질문에 대해서만 답을 하는 방식으로 구분
  - 요구사항에 관한 지식을 기반으로 엔티티들과 이들의 애트리뷰트들이 무엇인가 엔티티들 간의 관계가 무엇인가 등을 파악함
  - 데이터 처리에 관한 요구사항에 대하여 전형적인 연산들을 무엇인가 연산들의 의미, 접근하는 데이터의 양 등을 분석

- DBMS 선정
  - 여러 가지 요인들을 검토한 후 DBMS를 선정함
  - 기술적인 요인은 DBMS가 제공하는 데이터 모델, 저장 구조, 인터페이스 질의어, 도구, 제공되는 서비스 등
  - 정치적인 요인은 고수준의 전략적인 결정 등
  - 경제적인 요인은 DBMS 구입 비용, 하드웨어 구입 비용, 유지보수 비용, 기존의 시스템을 새로운 DBMS에 맞게 변환하는데 소요되는 비용, 인건비 교육비 등

- 물리적 설계
  - 처리 요구사항들을 만족시키기 위해 저장 구조와 접근 경로 등을 결정
  - 성능상의 주요 기준
    - 응답 시간: 질의와 갱신이 평균적으로 또는 피크 시간 때 얼마나 오래 걸릴 것인가?
    - 트랜잭션 처리율: 1초당 얼마나 많은 트랜잭션들이 평균적으로 또는 피크 시간 때 처리될 수 있는가?
    - 전체 데이터베이스에 대한 보고서를 생성하는데 얼마나 오래 걸릴 것인가?


<br/>

### ER모델

- ER모델

  - 데이터베이스 설계를 용이하게 하기 위해 P.P. Chen이 1976년에 제안

  - 현재는 EER 모델이 데이터베이스 설계과정에 널리 사용됨

  - 개념적 설계를 위한 인기 있는 모델로 높은 수준으로 추상화하며 이해하기 쉬우며 구문들의 표현력이 뛰어나고 사람들이 응용에 대해 생각하는 방식과 가깝고 많은 CASE 도구들이 지원됨

  - 실세계를 엔티티, 애트리뷰트, 엔티티들 간의 관계로 표현함


- 엔티티
  - 하나의 엔티티는 사람 장소 사물, 사건 등과 같이 독립적으로 존재하면서 고유하게 식별이 가능한 실세계의 객체
  - 사원처럼 실체가 있는 것도 있지만 생각이나 개념과 같이 추상적인 것도 있음

- 엔티티타입
  - 엔티티들은 엔티티타입들로 분류됨
  - 엔티티 타입은 동일한 애트리뷰트들을 가진 엔티티들의 틀
  - 엔티티 집합은 동일한 애트리뷰트들을 가진 엔티티들의 모임
  - 하나의 엔티티는 한 개 이상의 엔티티 집합에 속할 수 있음
  - 엔티티 타입은 관계 모델의 릴레이션의 내포에 해당하고 엔티티 집합은 관계 모델의 릴레이션의 외연
  - ER 다이어그램에서 엔티티 타입은 직사각형으로 나타냄

- 강한 엔티티 타입
  - 독자적으로 존재하며 엔티티 타입 내에서 자신의 키 애트리뷰트를 사용하여 고유하게 엔티티들을 식별할 수 있는 엔티티 타입

- 약한 엔티티 타입
  - 약한 엔티티 타입은 키를 형성하기에 충분한 애트리뷰트들을 갖지 못한 엔티티 타입
  - 이 엔티티 타입이 존재하려면 소유 엔티티 타입이 있어야 함
  - 소유 엔티티 타입의 키 애트리뷰트를 결함해야만 고유하게 약한 엔티티 타입의 엔티티들을 식별할 수 있음
- 애트리뷰트
  - 요구사향 명세에서 명사나 형용사로 표현
  - 엔티티는 독립적인 의미를 갖는데 반해서 애트리뷰트는 독립적인 의미를 갖지 않음
  - ER 다이어그램에서 타원형으로 나타냄
  - 애트리뷰트와 엔티티 타입은 실선으로 연결
- 단순 애트리뷰트
  - 더 이상 다른 애트리뷰트로 나눌 수 없는 애트리뷰트
  - ER다이어그램에서 실선 타입으로 표현

- 복합 애트리뷰트
  - 두 개 이상의 애트리뷰트로 이루어진 애트리뷰트
  - 동일한 엔티티 타입이나 관계 타입에 속하는 애트리뷰트들 중에서 밀접하게 연관된 것을 모아놓은 것
- 단일 값 애트리뷰트
  - 각 엔티티마다 정확하게 하나의 값을 갖는 애트리뷰트
  - ER다이어그램에서 단순 애트리뷰트와 동일하게 표현됨

- 다치 애트리뷰트
  - 각 엔티티마다 여러 개의 값을 가질 수 있는 애트리뷰트
  - ER다이어그램에서 이중선 타원으로 표현

- 저장된 애트리뷰트
  - 다른 애트리뷰트와 독립적으로 존재하는 애트리뷰트
  - ER다이어그램에서 단순 애트리뷰트와 동일하게 표현됨

- 유도된 애트리뷰트
  - 다른 애트리뷰트의 값으로부터 얻어진 애트리뷰트
  - 관계 데이터베이스에서 릴레이션의 애트리뷰트로 포함시키지 않는 것이 좋음
  - ER다이어그램에서 점선 타원으로 표현

- 관계와 관계 타입
  - 엔티티들 사이에 존재하는 연관이나 연결로서 두 개 이상의 엔티티 타입들 사이의 사상으로 생각할 수 있음
  - ER다이어그램에서 다이아몬드로 표기
  - 관계 타입이 서로 연관시키는 엔티티 타입들을 관계 타입에 실선으로 연결함

- 차수
  - 관계로 연결된 엔티티 타입들의 개수를 의미
  - 실세계에서 가장 흔한 관계는 두 개의 엔티티 타입을 연결하는 2진 관계

- 카디날리티
  - 카디날리티 비율은 한 엔티티가 참여할 수 있는 관계의 수를 나타냄
  - 관계 타입에 참여하는 엔티티들의 가능한 조합을 제한함
  - 1:1, 1:N, M:N
  - 카디날리티에 관한 정보는 간선 위에 나타냄

- 역할
  - 관계 타입의 의미를 명확하게 하기 위해 사용됨
  - 관계 타입의 간선 위에 표시

- 전체참여와 부분참여
  - 전체 참여는 어떤 관계에 엔티티 타입 E1의 모든 엔티티들의 관계 타입 R에 의해서 어떤 엔티티 타입 E2의 어떤 엔티티와 연관되는 것을 의미
  - 부분 참여는 어떤 관계에 엔티티 타입 E1의 일부 엔티티만 참여하는 것을 의미
  - 약한 엔티티타입은 항상 관계에 전체 참여
  - 전체 참여는 ER다이어그램에서 이중 실선으로 표시

- ER 스키마를 작성하기 위한 지침
  - 엔티티는 키 애트리뷰트 이외에 설명 정보를 추가로 가짐
  - 다치 애트리뷰트는 엔티티로 분류해야 함
  - 애트리뷰트들이 직접적으로 설명하는 앤티티에 애트리뷰트들을 붙임
  - 가능한 한 복합 식별자를 피함
  - 관계는 일반적으로 독자적으로 존재할 수 없지만 엔티티 타입과 관계 타입을 절대적으로 구분하는 것은 어려움

- 데이터베이스 설계 과정
  - 응용의 요구사항을 수집하여 기술
  - 응용과 연관이 있는 엔티티 타입, 관계 타입들을 식별
  - 관계가 1:1, 1:N, M:N 중에서 어느 것에 해당하는지 결정
  - 엔티티 타입과 관계 타입들에 필요한 애트리뷰트들을 식별하고 각 애트리뷰트가 가질 수 있는 값들을 집합으로 식별
  - 엔티티 타입들을 위한 기본 키를 식별
  - 응용을 위한 ER 스키마 다이어그램을 그림
  - ER 스키마 다이어그램이 응용에 대한 요구사항과 부합되는지 검사
  - ER 스키마 다이어그램을 DBMS에서 사용되는 데이터베이스 모델로 변환


<br/>

<br/>

